<!DOCTYPE html>
<html lang="en">

<head>
</head>

<body>
    <p>How many buttons do you want to create?</p>
    <input id='text' type='text'>
    <input id='buttonfortext' type='button' value='Go!'>
    <script>
        let browserwidth = window.innerWidth
            || document.documentElement.clientWidth
            || document.body.clientWidth;

        let browserheight = window.innerHeight
            || document.documentElement.clientHeight
            || document.body.clientHeight;

        let array = []

        function Buttons(color, width, height, top, left, order) {
            this.btn = document.createElement('button');
            this.btn.style.backgroundColor = color;
            this.btn.style.width = width;
            this.btn.style.height = height;
            this.btn.style.position = 'absolute';
            this.order = order;
            document.body.appendChild(this.btn);
            this.setlocation = function (top, left) {
                this.btn.style.top = top;
                this.btn.style.left = left;
            };
            this.setlocation(top, left);
        }

        function Randommoves() {
            let button = parseInt(document.getElementById('text').value);
            for (let i = 0; i < button; i++) {
                setInterval(function () {
                    array[i].setlocation(
                        Math.floor(Math.random() * (browserheight - 60)) + 'px',
                        Math.floor(Math.random() * (browserwidth - 120)) + 'px');
                }, 2000);
            }
        }

        function randomcolor() {
            let R = Math.floor(Math.random() * 255);
            let B = Math.floor(Math.random() * 255);
            let G = Math.floor(Math.random() * 255);
            let RGB = 'rgb(' + R + ', ' + G + ', ' + B + ')';
            return RGB;
        }

        function Add() {
            let button = parseInt(document.getElementById('text').value);
            let width = '120px';
            let height = '60px';
            if (button >= 5 && button <= 100) {
                for (let i = 0; i < button; i++) {
                    let color = randomcolor();
                    let top = Math.floor(Math.random() * (browserheight - 60)) + 'px';
                    let left = Math.floor(Math.random() * (browserwidth - 120)) + 'px';
                    let order = i
                    let newbutton = new Buttons(color, width, height, top, left, order);
                    array.push(newbutton);
                }
                document.getElementById('buttonfortext').onclick = null;
                Randommoves()
            }
            else {
                window.alert('Invalid input. Input has to be from 5-100')
            }
        }
        document.getElementById('buttonfortext').onclick = Add;
    </script>
</body>

</html>